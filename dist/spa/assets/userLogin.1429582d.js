import{Q as m}from"./QInput.18331260.js";import{l as u,k as f,o as _,r as g,s as h,E as s,C as v,G as l,z as e,y as d,B as c,D as y,a4 as w,Q as b,M as C}from"./index.9b424d6f.js";import{Q}from"./QSeparator.e603cf08.js";import{Q as S}from"./QCardActions.b3c92032.js";import{_ as V}from"./plugin-vue_export-helper.21dcd24c.js";const j={class:"q-pa-sm row items-center q-gutter-sm justify-center",style:{height:"94vh"}},I={class:"overlay-container"},x={class:"overlay"},P={class:"overlay-right"},U={class:"invert",id:"signUp"},k={class:"sign-in",action:"#"},N={class:"form-subtitle"},B={href:"#"},F={data:()=>({signUp:!1})},T=Object.assign(F,{name:"userLogin",setup(E){u();const{t:n,locale:L}=f({useScope:"global"}),r=_("smartFarm");let t=g({identifier:"",password:"",isPwd:!0});t.identifier="hello@tyeng.com",t.password="hello1234";const p=()=>{fetch("https://strapi.dev.tyeng.com/api/auth/local",{method:"post",headers:{Accept:"application/json","Content-Type":"application/json;charset=UTF-8"},body:JSON.stringify({identifier:t.identifier,password:t.password})}).then(i=>{if(!i.ok)throw console.log("hey"),Error(i.statusText);return i.json()}).then(i=>{r.loggedIn=!0,console.log(r.namespace),r.namespace.userInfo={jwt:i.jwt,username:i.user.username,email:i.user.email,homeServerNumber:i.user.homeServerNumber},r.start(r.namespace);let o;(o=a=>{setTimeout(function(){a>0?r.get("ioConnected")&&(r.send({topic:"smartFarm/homeServerInfo",collection:"homeServerInfo",operation:"findOne"}),a=0):o(--a)},200)})(10)})};return(i,o)=>(y(),h("article",null,[s("div",j,[s("div",{class:v(["container",{signUp:i.signUp}])},[s("div",I,[s("div",x,[s("div",P,[s("h2",null,l(e(n)("title.Hello")),1),s("p",null,l(e(n)("title.Please")),1),s("button",U,l(e(n)("title.Sign")),1)])])]),s("form",k,[s("h2",null,l(e(n)("title.signin")),1),s("div",N,l(e(n)("title.use")),1),d(m,{class:"form-input",color:"green",modelValue:e(t).identifier,"onUpdate:modelValue":o[0]||(o[0]=a=>e(t).identifier=a),filled:"",type:"email",hint:e(n)("title.Email")},null,8,["modelValue","hint"]),d(m,{class:"form-input",color:"green",modelValue:e(t).password,"onUpdate:modelValue":o[2]||(o[2]=a=>e(t).password=a),filled:"",type:e(t).isPwd?"password":"text",hint:e(n)("title.Password")},{append:c(()=>[d(w,{name:e(t).isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:o[1]||(o[1]=a=>e(t).isPwd=!e(t).isPwd)},null,8,["name"])]),_:1},8,["modelValue","type","hint"]),d(Q),s("a",B,l(e(n)("title.Forgot")),1),d(S,{vertical:""},{default:c(()=>[d(b,{flat:"",onClick:o[3]||(o[3]=a=>p())},{default:c(()=>[C(l(e(n)("title.login")),1)]),_:1})]),_:1})])],2)])]))}});var $=V(T,[["__scopeId","data-v-1cbdbe6c"]]);export{$ as default};
