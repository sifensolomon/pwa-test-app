var G=Object.defineProperty,X=Object.defineProperties;var Z=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var ee=Object.prototype.hasOwnProperty,te=Object.prototype.propertyIsEnumerable;var B=(w,r,m)=>r in w?G(w,r,{enumerable:!0,configurable:!0,writable:!0,value:m}):w[r]=m,k=(w,r)=>{for(var m in r||(r={}))ee.call(r,m)&&B(w,m,r[m]);if(H)for(var m of H(r))te.call(r,m)&&B(w,m,r[m]);return w},x=(w,r)=>X(w,Z(r));import{b as M,Q as oe,a as R,c as Y,_ as ie}from"./tyeng.a690c00e.js";import{h as b,a as se,ac as de,ad as ne,l as ae,o as le,t as re,w as ce,R as he,r as ue,q as fe,s as v,y as a,B as l,z as g,ae as pe,E as s,F as O,v as E,G as y,Q as p,A,x as C,H as S,I as P,C as j,M as f,D as u,af as ve,ag as z,ah as W,ai as L,P as _e,L as ge}from"./index.9b424d6f.js";import{Q as I}from"./QCardActions.b3c92032.js";import{Q as N}from"./QInput.18331260.js";import{Q as ye}from"./QSeparator.e603cf08.js";import{Q as $,a as Ce,C as D}from"./ClosePopup.eb9ca650.js";const me=[b("g",[b("path",{fill:"none",stroke:"currentColor","stroke-width":"5","stroke-miterlimit":"10",d:"M58.4,51.7c-0.9-0.9-1.4-2-1.4-2.3s0.5-0.4,1.4-1.4 C70.8,43.8,79.8,30.5,80,15.5H70H30H20c0.2,15,9.2,28.1,21.6,32.3c0.9,0.9,1.4,1.2,1.4,1.5s-0.5,1.6-1.4,2.5 C29.2,56.1,20.2,69.5,20,85.5h10h40h10C79.8,69.5,70.8,55.9,58.4,51.7z"}),b("clipPath",{id:"uil-hourglass-clip1"},[b("rect",{x:"15",y:"20",width:" 70",height:"25"},[b("animate",{attributeName:"height",from:"25",to:"0",dur:"1s",repeatCount:"indefinite",values:"25;0;0",keyTimes:"0;0.5;1"}),b("animate",{attributeName:"y",from:"20",to:"45",dur:"1s",repeatCount:"indefinite",values:"20;45;45",keyTimes:"0;0.5;1"})])]),b("clipPath",{id:"uil-hourglass-clip2"},[b("rect",{x:"15",y:"55",width:" 70",height:"25"},[b("animate",{attributeName:"height",from:"0",to:"25",dur:"1s",repeatCount:"indefinite",values:"0;25;25",keyTimes:"0;0.5;1"}),b("animate",{attributeName:"y",from:"80",to:"55",dur:"1s",repeatCount:"indefinite",values:"80;55;55",keyTimes:"0;0.5;1"})])]),b("path",{d:"M29,23c3.1,11.4,11.3,19.5,21,19.5S67.9,34.4,71,23H29z","clip-path":"url(#uil-hourglass-clip1)",fill:"currentColor"}),b("path",{d:"M71.6,78c-3-11.6-11.5-20-21.5-20s-18.5,8.4-21.5,20H71.6z","clip-path":"url(#uil-hourglass-clip2)",fill:"currentColor"}),b("animateTransform",{attributeName:"transform",type:"rotate",from:"0 50 50",to:"180 50 50",repeatCount:"indefinite",dur:"1s",values:"0 50 50;0 50 50;180 50 50",keyTimes:"0;0.7;1"})])];var Ne=se({name:"QSpinnerHourglass",props:de,setup(w){const{cSize:r,classes:m}=ne(w);return()=>b("svg",{class:m.value,width:r.value,height:r.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg"},me)}});const be={class:"q-ml-sm"},we={class:"q-pa-md q-gutter-sm row"},ke=f(" \uC81C\uC5B4\uAE30\uBA85\uBCC0\uACBD"),xe=f("\uC800\uC7A5 "),Ae={class:"q-pa-md q-gutter-sm row"},Se=f(" \uC9C0\uC815\uAC80\uC0C9 "),Ie=f("\uAC80\uC0C9\uC911... "),Te=f("\uC7A5\uCE58\uB9AC\uC14B"),Oe=f("\uC7A5\uCE58\uCD08\uAE30\uD654"),Ve={class:"q-pa-md row items-start q-gutter-md"},Me={class:"text-h6"},Ee={class:"text-subtitle2"},De=f(" \uCC44\uB110\uC124\uC815"),qe=f("\uC0AD\uC81C"),Re=f(" \uAC80\uC0C9"),Pe={key:0},je={class:"q-pa-md q-gutter-sm row"},Je={class:"col text-h4"},Ue={class:"col text-left"},$e=f(" \uB178\uB4DC\uC774\uB984\uBCC0\uACBD"),Qe={class:"col text-right"},Fe=f("\uC124\uC815\uC800\uC7A5"),Ke=f(" \xA0 "),He=f("\uCDE8\uC18C"),Be={class:"container",style:{"flex-wrap":"wrap"}},Ye={class:"q-pa-md q-gutter-sm row"},ze=s("div",{class:"col text-right"},null,-1),We=s("div",{class:"col text-right"},null,-1),Le=s("div",{class:"col text-right"},"\uC774\uB984 \uBCC0\uACBD",-1),Ge={class:"col text-let"},Xe=f("\uC800\uC7A5"),Ze={key:0},et={key:0},tt={key:0,class:"text-h4 text-center"},ot={key:1,class:"q-pa-md q-gutter-sm row"},it=s("div",{class:"col text-right"},"\uAC1C\uD3D0\uAE30 \uD3EC\uD2B8\uC218",-1),st={class:"col text-left justify-center"},dt={class:"col"},nt={class:"q-pa-md q-gutter-sm row"},at={class:"col text-center"},lt={class:"col text-center"},rt={class:"col text-center justify-center"},ct={class:"q-pa-md q-gutter-sm row"},ht={key:1,class:"q-pa-md"},ut={key:0,class:"text-h5 text-center"},ft={key:1,class:"q-pa-md"},pt=s("thead",null,[s("tr",null,[s("th",null,"\uCC44\uB110\uBC88\uD638"),s("th",null,"\uC7A5\uCE58\uCF54\uB4DC"),s("th",null,"\uC7A5\uCE58\uC774\uB984"),s("th",null,"\uC81C\uD488\uCF54\uB4DC"),s("th",null,"\uC5F4\uAE30\uC2DC\uAC04"),s("th",null,"\uB2EB\uAE30\uC2DC\uAC04"),s("th"),s("th")])],-1),vt={class:"text-center"},_t={class:"text-center"},gt={class:"text-center"},yt={class:"text-center"},Ct={class:"text-center"},mt={width:"100px"},Nt=f(" \uC800\uC7A5"),bt={width:"100px"},wt=f(" \uC77D\uAE30 "),kt={key:2,class:"text-h5 text-center"},xt={class:"q-pa-md"},At=s("thead",null,[s("tr",null,[s("th",null,"\uCC44\uB110\uBC88\uD638"),s("th",null,"\uC7A5\uCE58\uCF54\uB4DC"),s("th",null,"\uC7A5\uCE58\uC774\uB984"),s("th",null,"\uC81C\uD488\uCF54\uB4DC"),s("th",null,"\uAC1C\uBC29\uAC15\uB3C4"),s("th"),s("th")])],-1),St={class:"text-center"},It={class:"text-center"},Tt={class:"text-center"},Ot={class:"text-center"},Vt={width:"100px"},Mt=f(" \uC800\uC7A5"),Et={width:"100px"},Dt=f(" \uC77D\uAE30 "),qt={class:"q-pa-md q-gutter-sm row"},Rt={class:"col text-right"},Pt=f("\uC124\uC815\uC800\uC7A5"),jt=f(" \xA0 "),Jt=f("\uCDE8\uC18C"),Ut={key:2,class:"q-pa-md"},$t=s("div",{class:"text-h5 text-center"},"\uC13C\uC11C\uD3EC\uD2B8\uC124\uC815",-1),Qt={class:"table"},Ft=s("th",null,"\uCC44\uB110\uBC88\uD638",-1),Kt={key:0},Ht=s("th",null,"\uC7A5\uCE58\uCF54\uB4DC",-1),Bt=s("th",null,"\uC7A5\uCE58\uC774\uB984",-1),Yt=s("th",null,"\uC81C\uD488\uCF54\uB4DC",-1),zt=s("th",null,"\uCC44\uB110\uC0C1\uC218K",-1),Wt=s("th",null,"\uCC44\uB110\uC0C1\uC218P",-1),Lt=s("th",null,null,-1),Gt=s("th",null,null,-1),Xt={class:"text-center"},Zt={key:0},eo=f(" 0:\uC7A5\uCE58\uC5C6\uC74C"),to={width:"100px"},oo=f(" \uC800\uC7A5"),io={width:"100px"},so=f(" \uC77D\uAE30"),no=s("img",{src:ie},null,-1),ao=f("\uD2F0\uC640\uC774\uC774\uC5D4\uC9C0 \uC2A4\uB9C8\uD2B8 \uC81C\uC5B4 "),vo={name:"nodeConfig",setup(w){ae();const r=le("smartFarm"),m=re(r,"msg");class J{constructor(e,t,n){this._slaveAddress=e,this._id=n,this.deviceCode=t.deviceCode,this.name=t.name,this.productCode=t.productCode,this.openTime=t.openTime,this.closeTime=t.closeTime,this.channel=t.channel,this.disabled=!1}readChannelInfo(e){this.disabled=!0,e.send({topic:"nodeConfig/readChannelInfo",slaveAddress:this._slaveAddress,id:this._id,device:this,deviceType:"actuatorRetractable",payload:{fc:3,unitid:parseInt(this._slaveAddress,10),address:1010+10*this.channel,quantity:3}})}writeChannelInfo(e){this.disabled=!0,e.send({topic:"nodeConfig/writeChannelInfo",slaveAddress:this._slaveAddress,id:this._id,device:this,deviceType:"actuatorRetractable",payload:{fc:16,unitid:parseInt(this._slaveAddress,10),address:1010+10*this.channel,quantity:3,value:[parseInt(this.productCode,10),parseInt(this.openTime,10),parseInt(this.closeTime,10)]}})}}class U{constructor(e,t,n){this._slaveAddress=e,this._id=n,this.deviceCode=t.deviceCode,this.name=t.name,this.productCode=t.productCode,this.ratio=t.ratio,this.channel=t.channel,this.disabled=!1}readChannelInfo(e){this.disabled=!0,e.send({topic:"nodeConfig/readChannelInfo",slaveAddress:this._slaveAddress,id:this._id,device:this,deviceType:"actuatorSwitch",payload:{fc:3,unitid:parseInt(this._slaveAddress,10),address:1110+10*this.channel,quantity:2}})}writeChannelInfo(e){this.disabled=!0,e.send({topic:"nodeConfig/writeChannelInfo",slaveAddress:this._slaveAddress,id:this._id,device:this,deviceType:"actuatorSwitch",payload:{fc:16,unitid:parseInt(this._slaveAddress,10),address:1110+10*this.channel,quantity:2,value:[parseInt(this.productCode,10),parseInt(this.ratio,10)]}})}}class q{constructor(e,t,n){this._slaveAddress=e,this._id=n,this.deviceCode=t.deviceCode,this.name=t.name,this.productCode=t.productCode,this.constantK=t.constantK,this.constantP=t.constantP,this.channel=t.channel,this.disabled=!1}readChannelInfo(e){this.disabled=!0,e.send({topic:"nodeConfig/readChannelInfo",slaveAddress:this._slaveAddress,id:this._id,device:this,deviceType:"sensor",payload:{fc:3,unitid:parseInt(this._slaveAddress,10),address:910+10*this.channel,quantity:5}})}_floatToWord(e){var t=new ArrayBuffer(32),n=new DataView(t);n.setFloat32(0,parseFloat(e));var d={};return d.low=n.getUint16(0),d.high=n.getUint16(2),d}writeChannelInfo(e){e.send({topic:"nodeConfig/writeChannelInfo",slaveAddress:this._slaveAddress,id:this._id,device:this,deviceType:"sensor",payload:{fc:16,unitid:parseInt(this._slaveAddress,10),address:910+10*this.channel,quantity:5,value:[parseInt(this.productCode,10),this._floatToWord(this.constantK).high,this._floatToWord(this.constantK).low,this._floatToWord(this.constantP).high,this._floatToWord(this.constantP).low]}})}}class Q{constructor(e){console.log(e),this.name=e.name,this._id=e._id,this.mapInfo=e.mapInfo,this.nodeInfo=e.nodeInfo,this.deviceCodes=e.deviceCodes,this.sensors=e.sensors,this.actuatorRetractables=e.actuatorRetractables,this.actuatorSwitches=e.actuatorSwitches,this.noOfDualChannels=Object.keys(e.actuatorRetractables).length,this.disableSensorEdit=!1,this.disableActuatorEdit=!1,this.deviceMapper=e.deviceMapper}noOfDualChannelsChange(){console.log("noOfDualChannels",this.noOfDualChannels,"length",Object.keys(this.actuatorRetractables).length);const e=this.noOfDualChannels,t=Object.keys(this.actuatorRetractables).length;if(e!==t)if(e>8){_.value={icon:"report_problem",alert:!0,label:"\uC785\uB825\uC624\uB958",text:"\uAC1C\uD3D0\uAE30 \uAC1C\uC218\uB294 8\uAC1C\uB97C \uB118\uC744 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.",yesNo:!1};return}else if(e<0)_.value={icon:"report_problem",alert:!0,label:"\uC785\uB825\uC624\uB958",text:"\uAC1C\uD3D0\uAE30 \uAC1C\uC218\uB294 0\uBCF4\uB2E4 \uC791\uC744\uC218 \uC5C6\uC2B5\uB2C8\uB2E4.",yesNo:!1};else{this.disableActuatorEdit=!0,console.log("oldValue",t),console.log("newValue",e);let n=JSON.parse(JSON.stringify(this.actuatorRetractables));console.log("actuatorRetractables",n);let d=JSON.parse(JSON.stringify(this.actuatorSwitches));if(console.log("actuatorSwitches",d),this.actuatorRetractables={},this.actuatorSwitches={},e>t){for(let c=0;c<e;c++)if(c<t)this.actuatorRetractables[this._id+"/1/"+c]=n[this._id+"/1/"+c];else{let h={channel:c,name:"\uAC1C\uD3D0\uAE30"+c,deviceCode:this.mapInfo.isTYMap?113:112,productCode:0,status:0,opid:0,stateHoldTime:0,position:0,remainTime:0,time:0,openTime:0,closeTime:0,activated:!1};this.actuatorRetractables[this._id+"/1/"+c]=x(k({},h),{edit:new J(this._id,h,this._id+"/1/"+c)})}for(let c=0;c<16-2*e;c++)this.actuatorSwitches[this._id+"/2/"+c]=d[this._id+"/2/"+c]}else{for(let c=0;c<e;c++)this.actuatorRetractables[this._id+"/1/"+c]=n[this._id+"/1/"+c];for(let c=0;c<16-e*2;c++)if(c<16-t*2)this.actuatorSwitches[this._id+"/2/"+c]=d[this._id+"/2/"+c];else{let h={channel:c,name:"\uC2A4\uC704\uCE58"+c,deviceCode:this.mapInfo.isTYMap?103:102,productCode:0,status:0,opid:0,operation:0,stateHoldTime:0,ratio:0,remainTime:0,activated:!1};this.actuatorSwitches[this._id+"/2/"+c]=x(k({},h),{edit:new U(this._id,h,this._id+"/1/"+c)})}}}}updateSensorCode(e,t,n){this.disableSensorEdit=!0,console.log("this.deviceCodes",o.deviceCodes),console.log("deviceCode",e),this.sensors[this._id+"/0/"+n].deviceMap=o.deviceCodes.filter(c=>c._id===e),console.log("deviceMap",this.sensors[this._id+"/0/"+n].deviceMap);let d={disabled:!0,channel:n,name:t,productCode:0,deviceCode:e,status:0,value:0,valueUnit:this.sensors[this._id+"/0/"+n].deviceMap.ValueUnit,constantK:0,constantP:0};this.sensors[this._id+"/0/"+n]=x(k({},d),{edit:new q(this._id,d,this._id+"/1/"+n)})}cancelNodeConfig(){this.disableSensorEdit&&(console.log("this.disableSensorEdit",this.disableSensorEdit),this.sensors=JSON.parse(JSON.stringify(o.deviceNodes[this._id].sensors)),this.disableSensorEdit=!1),this.disableActuatorEdit&&(console.log("this.disableActuatorEdit",this.disableActuatorEdit),this.actuatorRetractables=JSON.parse(JSON.stringify(o.deviceNodes[this._id].actuatorRetractables)),this.actuatorSwitches=JSON.parse(JSON.stringify(o.deviceNodes[this._id].actuatorSwitches)),this.disableActuatorEdit=!1,this.noOfDualChannels=Object.keys(o.deviceNodes[this._id].actuatorRetractables).length),this.deviceMapper=o.deviceNodes[this._id].deviceMapper}changeNodeName(){o.deviceNodes[this._id].name=this.name,r.send({topic:"nodeConfig/changeNodeName",collection:"deviceNodes",operation:"updateOne",payload:[{_id:this._id},{$set:{name:this.name}},{upsert:!0}]})}writeDeviceMapper(){let e=this;_.value={icon:"priority_high",alert:!0,label:"\uC7A5\uCE58\uB9F5\uC218\uC815",text:"\uC2AC\uB808\uC774\uBE0C\uC8FC\uC18C "+ +e._id+"\uC758 \uC7A5\uCE58\uB9F5\uC744 \uBCC0\uACBD\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?",onConfirm:function(){if(e.mapInfo.isTYMap){console.log("configNode.sensors",e.sensors);let n=Object.keys(e.sensors).map(h=>{if(e.sensors[h].edit.deviceCode>0)return console.log("configNode.sensors[",h,"].edit.deviceCode",e.sensors[h].edit.deviceCode),e.sensors[h].name=e.sensors[h].edit.name,e.sensors[h].deviceCode=e.sensors[h].edit.deviceCode,e.sensors[h].channel=e.sensors[h].edit.channel,e.sensors[h].edit.deviceCode&255|e.sensors[h].edit.channel<<8}).filter(h=>h>0),d=Object.keys(e.actuatorRetractables).map(h=>e.actuatorRetractables[h].deviceCode&255|e.actuatorRetractables[h].channel<<8),c=Object.keys(e.actuatorSwitches).map(h=>e.actuatorSwitches[h].deviceCode&255|e.actuatorSwitches[h].channel<<8);e.deviceMapper=[...n,...d,...c],e.deviceMapper.forEach(h=>{console.log("mapper",h&255)})}let t={topic:"nodeConfig/writeDeviceMapper",slaveAddress:parseInt(e._id,10),configNode:e,collections:{deviceCodes:o.deviceCodes,registerMaps:o.registerMaps},payload:{fc:16,unitid:parseInt(e._id,10),address:1301,quantity:e.deviceMapper.length,value:e.deviceMapper}};console.log("writeDeviceMapper deviceCodes",t.payload.value.map(n=>n&255)),console.log("writeDeviceMapper channels",t.payload.value.map(n=>n>>8)),r.send(t)},onCancel:function(){},yesNo:!0}}}class F{constructor(e){this.name=e.name,this._id=e._id,this.mapInfo=e.mapInfo,this.nodeInfo=e.nodeInfo,this.sensors=this.buildSensors(this.mapInfo,e.sensors),this.actuatorRetractables={},this.actuatorSwitches={},Object.keys(e.actuatorRetractables).forEach(t=>{this.actuatorRetractables[t]=x(k({},e.actuatorRetractables[t]),{edit:new J(e._id,e.actuatorRetractables[t],t)})}),Object.keys(e.actuatorSwitches).forEach(t=>{this.actuatorSwitches[t]=x(k({},e.actuatorSwitches[t]),{edit:new U(e._id,e.actuatorSwitches[t],t)})}),Object.keys(e.sensors).forEach(t=>{this.sensors[t]=x(k({},e.sensors[t]),{edit:new q(e._id,e.sensors[t],t)})})}buildSensors(e,t){if(console.log("mapInfo",e),console.log("sensors",t),console.log("mapInfo.isTYMap && Object.keys(sensors).length > 0",e.isTYMap&&Object.keys(t).length>0),e.isTYNode&&!e.isThirdParty&&Object.keys(t).length>0){let n={};for(let d=0;d<8;d++)if(t[this._id+"/0/"+d]===void 0?n[this._id+"/0/"+d]={channel:d,deviceCode:0,name:"\uC7A5\uCE58\uC5C6\uC74C",productCode:0,constantK:0,constantP:0,edit:new q(this._id,{channel:d,deviceCode:0,name:"\uC7A5\uCE58\uC5C6\uC74C",productCode:0,constantK:0,constantP:0},this._id+"/1/"+d)}:n[this._id+"/0/"+d]=t[this._id+"/0/"+d],d===7)return n}else if(!(e.useDefaultMap&&t.length>0))return t}configChannels(e){if(e.configNode._id!==this._id)e.configNode=new Q(this),e.configNode.show=!0;else if(!e.configNode.show)e.configNode.show=!0;else{e.configNode.show=!1;return}}readChannels(e){Object.keys(this.actuatorRetractables).forEach(t=>{console.log(this.actuatorRetractables[t]),this.actuatorRetractables[t].edit.readChannelInfo(e)}),Object.keys(this.actuatorSwitches).forEach(t=>{this.actuatorSwitches[t].edit.readChannelInfo(e)}),Object.keys(this.sensors).forEach(t=>{this.sensors[t].edit.deviceCode>0&&this.sensors[t].edit.readChannelInfo(e)})}}const K=(i,e)=>{var t=new XMLHttpRequest;t.overrideMimeType("application/json"),t.open("GET",i,!0),t.onreadystatechange=function(){t.readyState===4&&t.status=="200"&&e(t.responseText)},t.send(null)};ce(m,i=>{if(i.topic.startsWith("nodeConfig"))var e=i.topic.split("/")[1];else return;switch(String(e)){case"deviceCodes":i.payload.length===0?K("./deviceCodes.json",function(d){const c=JSON.parse(d);c.forEach((h,V)=>{var T={collection:"deviceCodes",operation:"insertOne",payload:h};T.topic="nodeConfig/insertDeviceCode",r.send(T),V===c.length-1&&r.send({topic:"nodeConfig/defaultMaps",collection:"defaultMaps",operation:"find.toArray"})})}):(o.deviceCodes=JSON.parse(JSON.stringify(i.payload)),r.send({topic:"nodeConfig/defaultMaps",collection:"defaultMaps",operation:"find.toArray"}));break;case"defaultMaps":i.payload.length===0?K("./defaultMaps.json",function(d){const c=JSON.parse(d);c.forEach((h,V)=>{var T={collection:"defaultMaps",operation:"insertOne",payload:h};T.topic="nodeConfig/insertMap",r.send(T),V===c.length-1&&r.send({topic:"nodeConfig/registerMaps",collection:"registerMaps",operation:"find.toArray"})}),console.log(t)}):r.send({topic:"nodeConfig/registerMaps",collection:"registerMaps",operation:"find.toArray"});case"registerMaps":i.payload.forEach(d=>{o.registerMaps[d._id]={},o.registerMaps[d._id]=JSON.parse(JSON.stringify(d)),i.topic==="registerMaps"?o.registerMaps[d._id].collection="registerMaps":o.registerMaps[d._id].collection="defaultMaps"}),e==="registerMaps"&&r.send({topic:"nodeConfig/deviceNodes",collection:"deviceNodes",operation:"find.toArray"});break;case"deviceNodes":i.payload.forEach(d=>{o.deviceNodes[d._id]=new F(JSON.parse(JSON.stringify(d)))});break;case"configNode":console.log("configNode",i),o.deviceNodes[i.deviceNode._id]=new F(JSON.parse(JSON.stringify(i.deviceNode))),i.collections!==void 0&&(o.registerMaps=JSON.parse(JSON.stringify(i.collections.registerMaps)),o.deviceCodes=JSON.parse(JSON.stringify(i.collections.deviceCodes))),console.log("nodeConfig.deviceNodes[ ",i.deviceNode._id,"] ",o.deviceNodes[i.deviceNode._id]);break;case"writeDeviceMapper":console.log("writeDeviceMapper",i),o.deviceNodes[i.slaveAddress].actuatorRetractables={},Object.keys(i.configNode.actuatorRetractables).forEach(d=>{o.deviceNodes[i.slaveAddress].actuatorRetractables[d]=x(k({},i.configNode.actuatorRetractables[d]),{edit:new J(i.slaveAddress,i.configNode.actuatorRetractables[d],d)})}),o.deviceNodes[i.slaveAddress].actuatorSwitches={},Object.keys(i.configNode.actuatorSwitches).forEach(d=>{o.deviceNodes[i.slaveAddress].actuatorSwitches[d]=x(k({},i.configNode.actuatorSwitches[d]),{edit:new U(i.slaveAddress,i.configNode.actuatorSwitches[d],d)})}),o.deviceNodes[i.slaveAddress].sensors={},Object.keys(i.configNode.sensors).forEach(d=>{o.deviceNodes[i.slaveAddress].sensors[d]=x(k({},i.configNode.sensors[d]),{edit:new q(i.slaveAddress,i.configNode.sensors[d],d)})}),o.deviceNodes[i.slaveAddress].sensors=o.deviceNodes[i.slaveAddress].buildSensors(o.deviceNodes[i.slaveAddress].mapInfo,o.deviceNodes[i.slaveAddress].sensors),o.configNode.disableActuatorEdit=!1,o.configNode.disableSensorEdit=!1,console.log("nodeConfig.configNode[",i.slaveAddress,"]",o.deviceNodes[i.slaveAddress]),o.configNode=new Q(o.deviceNodes[i.slaveAddress]),console.log(o.configNode),o.configNode.show=!0,console.log("nodeConfig.deviceNodes[",i.slaveAddress,"].actuatorRetractables",o.deviceNodes[i.slaveAddress].actuatorRetractables),console.log("nodeConfig.deviceNodes[",i.slaveAddress,"].actuatorSwitches",o.deviceNodes[i.slaveAddress].actuatorSwitches),console.log("nodeConfig.deviceNodes[",i.slaveAddress,"].sensors",o.deviceNodes[i.slaveAddress].sensors);break;case"removeNodeConfig":var t={topic:"nodeConfig/removeDeviceInfo",collection:"deviceInfo",operation:"deleteMany",slaveAddress:i.slaveAddress,payload:{slaveAddress:i.slaveAddress}};console.log(t),r.send(t);break;case"readChannelInfo":console.log("readChannelInfo",i),console.log("nodeConfig.configNode",o.configNode);const n=JSON.parse(JSON.stringify(i.payload));console.log("nodeConfig.configNode[",i.deviceArray,"][",i.id,"].edit.isRomValue"),o.configNode[i.deviceArray][i.id].edit.isRomValue=n.isRomValue,o.configNode[i.deviceArray][i.id].edit.disabled=!1,console.log("nodeConfig.configNode[",i.deviceArray,"][",i.id,"].edit.isRomValue",o.configNode[i.deviceArray][i.id].edit.isRomValue),o.configNode[i.deviceArray][i.id].deviceCode=o.configNode[i.deviceArray][i.id].edit.deviceCode=n.deviceCode,o.configNode[i.deviceArray][i.id].productCode=o.configNode[i.deviceArray][i.id].edit.productCode=n.productCode,i.deviceType==="actuatorRetractable"?(o.configNode[i.deviceArray][i.id].openTime=o.configNode[i.deviceArray][i.id].edit.openTime=n.openTime,o.configNode[i.deviceArray][i.id].closeTime=o.configNode[i.deviceArray][i.id].edit.closeTime=n.closeTime):i.deviceType==="actuatorSwitch"?o.configNode[i.deviceArray][i.id].ratio=o.configNode[i.deviceArray][i.id].edit.ratio=n.ratio:i.deviceType==="sensor"&&(o.configNode[i.deviceArray][i.id].constantK=o.configNode[i.deviceArray][i.id].edit.constantK=n.constantK,o.configNode[i.deviceArray][i.id].constantP=o.configNode[i.deviceArray][i.id].edit.constantP=n.constantP),console.log("nodeConfig.configNode",i.deviceArray,"][",i.id,"]",o.configNode[i.deviceArray][i.id]);break;case"setControllerName":console.log("setControllerName"),o.editControllerName.edit=!1;break}});let _=he({alert:!1,icon:"delete",label:"",text:"",yesNo:!0,onConfirm:{},onCancel:{},data:null});const o=ue({deviceNodes:{},editControllerName:{edit:!1,name:r.controller.name,nickName:r.controller.nickName,masterAddress:r.controller.masterAddress,setControllerName:function(){r.controller.name!==this.name||r.controller.nickName!==this.nickName||r.controller.masterAddress!==this.masterAddress?r.send({topic:"nodeConfig/setControllerName",collection:"controllerInfo",operation:"update",name:this.name,nickName:this.nickName,masterAddress:parseInt(this.masterAddress,10),payload:[{_id:r.controller._id},{$set:{name:this.name,nickName:this.nickName,masterAddress:parseInt(this.masterAddress,10)}}]}):this.edit=!1}},configNode:{},addressData:"176",registerMaps:{},registerMap:{},deviceCodes:[],getIndex:function(i){var e=this.deviceNodes.map(function(t){return t._id}).indexOf(i);return e},verifyAddresses:function(i){return new Promise((e,t)=>{var n=[];i!==null&&i.length!==0?(i.split(",").forEach(d=>{if(d.includes("-")){let h=d.split("-"),V=parseInt(h[0]),T=parseInt(h[1]);for(var c=V;c<T;c++)c<1||c>247||c<1||c>247?t("\uC8FC\uC18C\uB294 1-247\uC0AC\uC774\uB85C \uC9C0\uC815\uD558\uC138\uC694"):n.push(parseInt(c,10))}else d<1||d>247||d<1||d>247?t("\uC8FC\uC18C\uB294 1-247\uC0AC\uC774\uB85C \uC9C0\uC815\uD558\uC138\uC694"):n.push(parseInt(d,10))}),console.log(n),e(n)):(console.log("\uC8FC\uC18C\uAC12\uC744 \uB123\uC73C\uC138\uC694"),t("\uC8FC\uC18C\uAC12\uC744 \uB123\uC73C\uC138\uC694"))})},searchDevices:function(i){console.log("deviceCodes",o.deviceCodes),i.forEach(e=>{r.send({slaveAddress:parseInt(e,10),payload:{fc:3,unitid:parseInt(e,10),address:1,quantity:8},topic:"nodeConfig/searchDevices",collections:{deviceCodes:o.deviceCodes,registerMaps:o.registerMaps}})})},designatedSearch:function(i){i!==null?this.verifyAddresses(this.addressData).then(e=>{this.searchDevices(e)}).catch(e=>{_.value={icon:"report_problem",alert:!0,label:"\uC5D0\uB7EC",text:JSON.stringify(e)}}):this.searchDevices([this.controller.masterAddress])},removeNodeConfig:function(i){_.value={icon:"priority_high",alert:!0,label:"\uC0AD\uC81C",text:"\uC2AC\uB808\uC774\uBE0C \uC8FC\uC18C"+i+"\uB97C \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?",onConfirm:function(){o.configNode.show=!1,r.send({topic:"nodeConfig/removeNodeConfig",collection:"deviceNodes",operation:"deleteOne",slaveAddress:i,payload:{_id:i}}),r.send({topic:"nodeConfig/removeNodeConfig",collection:"registerMaps",operation:"deleteOne",slaveAddress:i,payload:{_id:i}}),delete o.deviceNodes[i]},onCancel:function(){},yesNo:!0}},initFlashes:function(i){o.verifyAddresses(i).then(e=>{console.log(e),_.value={icon:"priority_high",alert:!0,label:"\uAE30\uBCF8\uAC12\uBCF5\uC6D0",text:JSON.stringify(e)+"\uB97C \uAE30\uBCF8\uAC12\uC73C\uB85C \uBCF5\uC6D0 \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?",data:e,onConfirm:function(){this.data.forEach(t=>{r.send({topic:"nodeConfig/initFlashes",slaveAddress:parseInt(t,10),payload:{fc:6,unitid:parseInt(t,10),address:1399,quantity:1,value:65534}})})},onCancel:function(){},yesNo:!0}}).catch(e=>{_.value={icon:"report_problem",alert:!0,label:"\uC5D0\uB7EC",text:e,yesNo:!1}})},resetDevices:function(i){this.verifyAddresses(i).then(e=>{console.log(e),_.value={icon:"priority_high",alert:!0,label:"\uC7AC\uC2DC\uC791",text:JSON.stringify(e)+"\uB97C \uC7AC\uC2DC\uC791 \uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C?",data:e,onConfirm:function(){console.log("test"),this.data.forEach(t=>{r.send({topic:"nodeConfig/resetDevices",slaveAddress:parseInt(t,10),payload:{fc:6,unitid:parseInt(t,10),address:1399,quantity:1,value:65533}})})},onCancel:function(){},yesNo:!0}}).catch(e=>{_.value={icon:"report_problem",alert:!0,label:"\uC5D0\uB7EC",text:e,yesNo:!1}})}});return fe(()=>{console.log("nodeConfig mounted"),m.value=r.msg,r.send({topic:"nodeConfig/deviceCodes",collection:"deviceCodes",operation:"find.toArray"}),window.scrollTo(0,0)}),(i,e)=>(u(),v(O,null,[a(pe,{modelValue:g(_).alert,"onUpdate:modelValue":e[2]||(e[2]=t=>g(_).alert=t),persistent:""},{default:l(()=>[a(M,{style:{width:"300px"}},{default:l(()=>[a(R,{class:"row items-center"},{default:l(()=>[a(Y,{icon:g(_).icon,color:"primary","text-color":"white"},null,8,["icon"]),s("span",be,y(g(_).label),1)]),_:1}),a(R,{class:"q-pt-none"},{default:l(()=>[f(y(g(_).text),1)]),_:1}),g(_).yesNo?(u(),A(I,{key:0,align:"right"},{default:l(()=>[S(a(p,{class:"glossy",round:"",color:"deep-orange",label:"\uC608",style:{width:"60px"},onClick:e[0]||(e[0]=t=>g(_).onConfirm(g(_).param))},null,512),[[D]]),S(a(p,{class:"glossy",round:"",color:"primary",label:"\uC544\uB2C8\uC624",style:{width:"60px"},onClick:e[1]||(e[1]=t=>g(_).onCancel(g(_).param))},null,512),[[D]])]),_:1})):(u(),A(I,{key:1,align:"right"},{default:l(()=>[S(a(p,{class:"glossy",round:"",color:"primary",label:"\uD655\uC778",style:{width:"60px"}},null,512),[[D]])]),_:1}))]),_:1})]),_:1},8,["modelValue"]),s("div",we,[a(M,{class:"col"},{default:l(()=>[a(R,{align:"right"},{default:l(()=>[a(p,{color:"red",onClick:e[3]||(e[3]=t=>o.editControllerName.edit?o.editControllerName.edit=!1:o.editControllerName.edit=!0)},{default:l(()=>[ke]),_:1})]),_:1}),S(s("div",null,[a(I,null,{default:l(()=>[a(N,{outlined:"",type:"text",label:"\uC774\uB984\uBCC0\uACBD",placeholder:"ex) 56,16",style:{width:"100%"},modelValue:o.editControllerName.name,"onUpdate:modelValue":e[4]||(e[4]=t=>o.editControllerName.name=t),class:"q-gutter-sm"},null,8,["modelValue"])]),_:1}),a(I,null,{default:l(()=>[a(N,{outlined:"",type:"text",label:"\uBCC4\uBA85",placeholder:"ex) 56,16",style:{width:"100%"},modelValue:o.editControllerName.nickName,"onUpdate:modelValue":e[5]||(e[5]=t=>o.editControllerName.nickName=t),class:"q-gutter-sm"},null,8,["modelValue"])]),_:1}),a(I,null,{default:l(()=>[a(N,{outlined:"",type:"text",label:"\uB9C8\uC2A4\uD130\uC5B4\uB4DC\uB808\uC2A4",placeholder:"ex) 56,16",style:{width:"100%"},modelValue:o.editControllerName.masterAddress,"onUpdate:modelValue":e[6]||(e[6]=t=>o.editControllerName.masterAddress=t),class:"q-gutter-sm"},null,8,["modelValue"])]),_:1}),a(I,{align:"right"},{default:l(()=>[a(p,{color:"primary",style:{width:"100px"},onClick:e[7]||(e[7]=t=>o.editControllerName.setControllerName())},{default:l(()=>[xe]),_:1})]),_:1})],512),[[P,o.editControllerName.edit]])]),_:1}),a(M,{class:"col"},{default:l(()=>[a(I,{align:"center"},{default:l(()=>[a(p,{class:"glossy col-5",rounded:"",color:"secondary","text-color":"black",label:"\uC790\uB3D9\uAC80\uC0C9"}),a(p,{class:"glossy col-5",rounded:"",color:"warning","text-color":"black",label:"\uAC80\uC0C9\uC911\uC9C0"})]),_:1})]),_:1}),a(M,{class:"col"},{default:l(()=>[s("div",Ae,[a(N,{class:"col-4",outlined:"",type:"text",label:"\uAC80\uC0C9\uD560 \uC8FC\uC18C\uB97C \uB123\uC73C\uC138\uC694",placeholder:"ex) 56,16",modelValue:o.addressData,"onUpdate:modelValue":e[8]||(e[8]=t=>o.addressData=t)},null,8,["modelValue"]),a(p,{class:"col-3",rounded:"",color:"primary",onClick:e[9]||(e[9]=t=>o.designatedSearch(o.addressData))},{loading:l(()=>[a(Ne,{class:"on-left"}),Ie]),default:l(()=>[Se]),_:1})]),a(I,{align:"center"},{default:l(()=>[a(p,{rounded:"","text-color":"white",color:"red",style:{width:"40%"},onClick:e[10]||(e[10]=t=>o.resetDevices(o.addressData))},{default:l(()=>[Te]),_:1}),a(p,{rounded:"","text-color":"black",color:"warning",style:{width:"40%"},onClick:e[11]||(e[11]=t=>o.initFlashes(o.addressData))},{default:l(()=>[Oe]),_:1})]),_:1})]),_:1})]),s("div",Ve,[(u(!0),v(O,null,E(o.deviceNodes,t=>(u(),A(M,{key:t._id},{default:l(()=>[a(R,{class:"bg-primary text-white"},{default:l(()=>[s("div",Me,y(t.name+" : "+t._id),1),s("div",Ee,y(t.mapInfo.base),1)]),_:2},1024),a(ye),a(I,{align:"right"},{default:l(()=>[a(p,{color:"info",style:{width:"100px"},onClick:n=>t.configChannels(o)},{default:l(()=>[De]),_:2},1032,["onClick"]),a(p,{color:"red",style:{width:"100px"},onClick:n=>o.removeNodeConfig(t._id)},{default:l(()=>[qe]),_:2},1032,["onClick"]),a(p,{color:"warning",style:{width:"100px"},onClick:n=>t.readChannels(g(r)),disabled:!o.configNode.show||o.configNode._id!==t._id},{default:l(()=>[Re]),_:2},1032,["onClick","disabled"])]),_:2},1024)]),_:2},1024))),128))]),o.configNode.show?(u(),v("div",Pe,[s("div",je,[s("div",Je,y(o.configNode.name+": "+o.configNode._id),1),s("div",Ue,[a(p,{color:"blue",style:{width:"120px"},onClick:e[12]||(e[12]=t=>o.configNode.editName?o.configNode.editName=!1:o.configNode.editName=!0)},{default:l(()=>[$e]),_:1})]),s("div",Qe,[o.configNode.disableActuatorEdit||o.configNode.disableSensorEdit?(u(),A(p,{key:0,color:"secondary",style:{width:"100px"},onClick:e[13]||(e[13]=t=>o.configNode.writeDeviceMapper())},{default:l(()=>[Fe]),_:1})):C("",!0),Ke,o.configNode.disableActuatorEdit||o.configNode.disableSensorEdit?(u(),A(p,{key:1,color:"orange",style:{width:"100px"},onClick:e[14]||(e[14]=t=>o.configNode.cancelNodeConfig())},{default:l(()=>[He]),_:1})):C("",!0)])]),S(s("div",Be,[s("div",Ye,[ze,We,Le,s("div",Ge,[a(N,{outlined:"",dense:"",type:"text",style:{width:"100%"},value:o.configNode.name,modelValue:o.configNode.name,"onUpdate:modelValue":e[15]||(e[15]=t=>o.configNode.name=t)},null,8,["value","modelValue"])]),a(p,{color:"red",style:{width:"100px"},onClick:e[16]||(e[16]=t=>o.configNode.changeNodeName())},{default:l(()=>[Xe]),_:1})])],512),[[P,o.configNode.editName]]),o.configNode.nodeInfo.noOfDevices>0?(u(),v("div",Ze,[Object.keys(o.configNode.actuatorRetractables).length>0&&Object.keys(o.configNode.actuatorSwitches).length>0?(u(),v("div",et,[o.configNode.nodeInfo.nodeType!==1&&o.configNode._id!==175?(u(),v("div",tt,"\uAD6C\uB3D9\uAE30 \uD3EC\uD2B8 \uC124\uC815")):C("",!0),!o.configNode.mapInfo.isThirdParty&&o.configNode.nodeInfo.nodeType!==1&&o.configNode._id!==175?(u(),v("div",ot,[it,s("div",st,[s("div",dt,[a(N,{outlined:"",type:"number",style:{width:"100%"},modelValue:o.configNode.noOfDualChannels,"onUpdate:modelValue":[e[17]||(e[17]=t=>o.configNode.noOfDualChannels=t),e[18]||(e[18]=t=>o.configNode.noOfDualChannelsChange())],min:"0",max:"8"},null,8,["modelValue"])])])])):C("",!0)])):C("",!0),s("div",nt,[s("div",at,"\uC81C\uD488\uC2DC\uB9AC\uC5BC:"+y(o.configNode.nodeInfo.refNumber),1),s("div",lt,"\uB514\uBC14\uC774\uC2A4\uB9F5:"+y(o.configNode.mapInfo.name),1),s("div",rt,[C("",!0)])]),s("div",ct,[S(s("div",null,"\uD2F0\uC640\uC774\uB9F5\uC740 \uB514\uBC14\uC774\uC2A4\uB9F5\uC744 \uC124\uC815\uD558\uC5EC \uBD88\uB7EC\uC62C\uC218 \uC788\uB2E4.",512),[[P,!o.configNode.mapInfo.isThirdParty]]),S(s("div",null,"\uB514\uD3F4\uD2B8\uB9F5\uC758 \uC13C\uC11C\uD3EC\uD2B8\uB294 \uC885\uB958\uB97C \uBC14\uAFC0\uC218 \uC788\uACE0, \uAD6C\uB3D9\uAE30\uD3EC\uD2B8\uB294 \uAC1C\uD3D0\uAE30\uC758 \uC218\uB97C \uC870\uC808\uD560\uC218 \uC788\uB2E4.",512),[[P,o.configNode.mapInfo.isThirdParty]])]),Object.keys(o.configNode.actuatorRetractables).length>0&&Object.keys(o.configNode.actuatorSwitches).length>0?(u(),v("div",ht,[Object.keys(o.configNode.actuatorRetractables).length>0?(u(),v("div",ut," \uAC1C\uD3D0\uAE30\uD3EC\uD2B8\uC124\uC815")):C("",!0),o.configNode.noOfDualChannels>0?(u(),v("div",ft,[a($,null,{default:l(()=>[pt,s("tbody",null,[(u(!0),v(O,null,E(o.configNode.actuatorRetractables,(t,n)=>(u(),v("tr",{key:n},[s("td",vt,y(t.edit.channel),1),s("td",_t,y(t.edit.deviceCode),1),s("td",{class:j(t.edit.isRomValue?"text-center text-black":"text-center text-grey")},y(t.edit.name),3),s("td",gt,[a(N,{outlined:"",dense:"",type:"number",style:{width:"100%"},modelValue:t.edit.productCode,"onUpdate:modelValue":d=>t.edit.productCode=d},null,8,["modelValue","onUpdate:modelValue"])]),s("td",yt,[a(N,{outlined:"",dense:"",type:"number",style:{width:"100%"},modelValue:t.edit.openTime,"onUpdate:modelValue":d=>t.edit.openTime=d},null,8,["modelValue","onUpdate:modelValue"])]),s("td",Ct,[a(N,{outlined:"",dense:"",type:"number",style:{width:"100%"},modelValue:t.edit.closeTime,"onUpdate:modelValue":d=>t.edit.closeTime=d},null,8,["modelValue","onUpdate:modelValue"])]),s("td",mt,[a(p,{color:"warning",style:{width:"100px"},onClick:d=>t.edit.writeChannelInfo(g(r)),disabled:o.configNode.mapInfo.isThirdParty||o.configNode.disableActuatorEdit||t.edit.disabled},{default:l(()=>[Nt]),_:2},1032,["onClick","disabled"])]),s("td",bt,[a(p,{color:"green",style:{width:"100px"},onClick:d=>t.edit.readChannelInfo(g(r)),disabled:o.configNode.mapInfo.isThirdParty||o.configNode.disableActuatorEdit},{default:l(()=>[wt]),_:2},1032,["onClick","disabled"])])]))),128))])]),_:1})])):C("",!0),Object.keys(o.configNode.actuatorSwitches).length>0?(u(),v("div",kt,"\uC2A4\uC704\uCE58\uD3EC\uD2B8\uC124\uC815 ")):C("",!0),s("div",xt,[a($,null,{default:l(()=>[At,s("tbody",null,[(u(!0),v(O,null,E(o.configNode.actuatorSwitches,(t,n)=>(u(),v("tr",{key:n},[s("td",St,y(t.edit.channel),1),s("td",It,y(t.edit.deviceCode),1),s("td",{class:j(t.edit.isRomValue?"text-center text-black":"text-center text-grey")},y(t.edit.name),3),s("td",Tt,[a(N,{outlined:"",dense:"",type:"number",style:{width:"100%"},modelValue:t.edit.productCode,"onUpdate:modelValue":d=>t.edit.productCode=d},null,8,["modelValue","onUpdate:modelValue"])]),s("td",Ot,[a(N,{outlined:"",dense:"",type:"number",style:{width:"100%"},modelValue:t.edit.ratio,"onUpdate:modelValue":d=>t.edit.ratio=d},null,8,["modelValue","onUpdate:modelValue"])]),s("td",Vt,[a(p,{color:"warning",style:{width:"100px"},onClick:d=>t.edit.writeChannelInfo(g(r)),disabled:o.configNode.mapInfo.isThirdParty||o.configNode.disableActuatorEdit||t.edit.disabled},{default:l(()=>[Mt]),_:2},1032,["onClick","disabled"])]),s("td",Et,[a(p,{color:"green",style:{width:"100px"},onClick:d=>t.edit.readChannelInfo(g(r)),disabled:o.configNode.mapInfo.isThirdParty||o.configNode.disableActuatorEdit},{default:l(()=>[Dt]),_:2},1032,["onClick","disabled"])])]))),128))])]),_:1})])])):C("",!0),s("div",qt,[s("div",Rt,[o.configNode.disableActuatorEdit||o.configNode.disableSensorEdit?(u(),A(p,{key:0,color:"secondary",style:{width:"100px"},onClick:e[19]||(e[19]=t=>o.configNode.writeDeviceMapper())},{default:l(()=>[Pt]),_:1})):C("",!0),jt,o.configNode.disableActuatorEdit||o.configNode.disableSensorEdit?(u(),A(p,{key:1,color:"orange",style:{width:"100px"},onClick:e[20]||(e[20]=t=>o.configNode.cancelNodeConfig())},{default:l(()=>[Jt]),_:1})):C("",!0)])]),o.configNode.nodeInfo.nodeType!==2&&Object.keys(o.configNode.sensors).length>0?(u(),v("div",Ut,[$t,a($,null,{default:l(()=>[s("table",Qt,[s("thead",null,[s("tr",null,[Ft,o.configNode.mapInfo.isThirdparty?C("",!0):(u(),v("th",Kt)),Ht,Bt,Yt,zt,Wt,Lt,Gt])]),s("tbody",null,[(u(!0),v(O,null,E(o.configNode.sensors,t=>(u(),v("tr",{key:t.channel},[s("td",Xt,y(t.edit.channel),1),o.configNode.mapInfo.isThirdParty?C("",!0):(u(),v("td",Zt,[a(Ce,{color:"primary",label:"\uC7A5\uCE58\uCF54\uB4DC"},{default:l(()=>[a(ve,null,{default:l(()=>[(u(!0),v(O,null,E(o.deviceCodes.filter(n=>n._id<100).sort((n,d)=>n._id-d._id),n=>S((u(),A(L,{clickable:"",key:n._id,onClick:d=>o.configNode.updateSensorCode(n._id,n.device.Name,t.channel)},{default:l(()=>[a(z,null,{default:l(()=>[a(W,null,{default:l(()=>[f(y(n._id+":"+n.device.Name),1)]),_:2},1024)]),_:2},1024)]),_:2},1032,["onClick"])),[[D]])),128)),S((u(),A(L,{clickable:"",onClick:n=>o.configNode.updateSensorCode(0,"\uC7A5\uCE58\uC5C6\uC74C",t.channel)},{default:l(()=>[a(z,null,{default:l(()=>[a(W,null,{default:l(()=>[eo]),_:1})]),_:1})]),_:2},1032,["onClick"])),[[D]])]),_:2},1024)]),_:2},1024)])),s("td",null,y(t.edit.deviceCode),1),s("td",{class:j(t.edit.isRomValue?"text-center text-black":"text-center text-grey")},y(t.edit.name),3),s("td",null,[a(N,{outlined:"",dense:"",type:"number",style:{width:"100%"},modelValue:t.edit.productCode,"onUpdate:modelValue":n=>t.edit.productCode=n,disable:o.configNode.mapInfo.isThirdParty||t.deviceCode===0||o.configNode.disableSensorEdit||t.edit.disabled},null,8,["modelValue","onUpdate:modelValue","disable"])]),s("td",null,[a(N,{outlined:"",dense:"",type:"number",step:"0.01",style:{width:"100%"},modelValue:t.edit.constantK,"onUpdate:modelValue":n=>t.edit.constantK=n,disable:o.configNode.mapInfo.isThirdParty||t.deviceCode===0||o.configNode.disableSensorEdit||t.edit.disabled},null,8,["modelValue","onUpdate:modelValue","disable"])]),s("td",null,[a(N,{outlined:"",dense:"",type:"number",step:"0.01",style:{width:"100%"},modelValue:t.edit.constantP,"onUpdate:modelValue":n=>t.edit.constantP=n,disable:o.configNode.mapInfo.isThirdParty||t.deviceCode===0||o.configNode.disableSensorEdit||t.edit.disabled},null,8,["modelValue","onUpdate:modelValue","disable"])]),s("td",to,[a(p,{color:"warning",style:{width:"100px"},onClick:n=>t.edit.writeChannelInfo(g(r)),disabled:o.configNode.mapInfo.isThirdParty||t.deviceCode===0||o.configNode.disableSensorEdit||t.edit.disabled},{default:l(()=>[oo]),_:2},1032,["onClick","disabled"])]),s("td",io,[a(p,{color:"green",style:{width:"100px"},onClick:n=>t.edit.readChannelInfo(g(r)),disabled:o.configNode.mapInfo.isThirdParty||t.deviceCode===0||o.configNode.disableSensorEdit},{default:l(()=>[so]),_:2},1032,["onClick","disabled"])])]))),128))])])]),_:1})])):C("",!0)])):C("",!0)])):C("",!0),a(oe,{bordered:"",class:j(g(r).color[g(r).menuIndex].bg)},{default:l(()=>[a(_e,null,{default:l(()=>[a(ge,null,{default:l(()=>[a(Y,null,{default:l(()=>[no]),_:1}),ao]),_:1})]),_:1})]),_:1},8,["class"])],64))}};export{vo as default};
